(function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],p=0,f=[];p<i.length;p++)s=i[p],a[s]&&f.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/movie-finder/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"14a0":function(e,t,n){"use strict";var r=n("9275"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s=(n("5c0b"),n("2877")),i={},u=Object(s["a"])(i,a,o,!1,null,null,null),c=u.exports,l=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("SearchBox")],1)},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v("Movie Finder")])])}],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Enter a Movie Title..."},domProps:{value:e.searchQuery},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$router.push("/results")},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),n("router-link",{attrs:{to:"/results"}},[n("SearchIcon",{staticClass:"search-icon"})],1)],1)},h=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1\n    322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5\n    8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4\n    0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"}})])},d=[],g={},b=Object(s["a"])(g,m,d,!1,null,null,null),y=b.exports,w={computed:{searchQuery:{get:function(){return this.$store.state.searchQuery},set:function(e){this.$store.commit("updateQuery",e)}}},components:{SearchIcon:y}},x=w,_=(n("14a0"),Object(s["a"])(x,v,h,!1,null,null,null)),C=_.exports,O={components:{SearchBox:C}},j=O,S=Object(s["a"])(j,p,f,!1,null,null,null),M=S.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"results"},[n("header",[e.$store.getters.isSearching?n("Spinner"):n("h1",[e._v("\n      "+e._s(e.$store.state.resultCount+' results found for "'+e.$store.state.searchQuery+'"')+"\n    ")])],1),n("MovieCarousel")],1)},k=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"icon spinner",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M460.116 373.846l-20.823-12.022c-5.541-3.199-7.54-10.159-4.663-15.874 30.137-59.886\n    28.343-131.652-5.386-189.946-33.641-58.394-94.896-95.833-161.827-99.676C261.028 55.961 256\n    50.751 256 44.352V20.309c0-6.904 5.808-12.337 12.703-11.982 83.556 4.306 160.163 50.864\n    202.11 123.677 42.063 72.696 44.079 162.316 6.031 236.832-3.14 6.148-10.75 8.461-16.728\n    5.01z"}})])},R=[],I={},E=Object(s["a"])(I,Q,R,!1,null,null,null),N=E.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Carousel",{staticClass:"movie-carousel",attrs:{"pagination-enabled":!1,"navigation-enabled":!0,"per-page":1,"per-page-custom":[[500,2]]},on:{"page-change":e.handlePageChange}},e._l(this.$store.state.movies,function(e,t){return n("Slide",{key:t},[n("MovieCard",{attrs:{movie:e}})],1)}),1)},P=[],B=n("0a63"),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"movie-card"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.movie.isLoading||e.isImageLoading,expression:"movie.isLoading || isImageLoading"}],staticClass:"loader"},[n("Spinner")],1),n("main",[e.isImageBroken?n("div",{staticClass:"image-placeholder"},[e._v("\n      Image Not Available\n    ")]):n("img",{attrs:{src:e.movie.Poster},on:{load:function(t){e.isImageLoading=!1},error:function(t){e.isImageLoading=!1,e.isImageBroken=!0}}})]),n("footer",[n("div",{staticClass:"title"},[e._v(e._s(e.movie.Title+" ("+e.movie.Year+")"))]),n("div",{staticClass:"director"},[e._v(e._s(e.movie.Director))])])])},J=[],D={data:function(){return{isImageLoading:!0,isImageBroken:!1}},props:["movie"],components:{Spinner:N}},q=D,z=(n("70ef"),Object(s["a"])(q,T,J,!1,null,null,null)),A=z.exports,F={components:{Carousel:B["Carousel"],Slide:B["Slide"],MovieCard:A},methods:{handlePageChange:function(e){var t=2*e+2;if(t<this.$store.state.movies.length&&!this.$store.state.movies[t].Title){var n=Math.floor(t/10)+1;this.$store.dispatch("getMovies",{query:this.$store.state.searchQuery,pageNumber:n})}}}},V=F,Y=(n("b9e2"),Object(s["a"])(V,L,P,!1,null,null,null)),G=Y.exports,H={mounted:function(){this.$store.dispatch("getMovies",{query:this.$store.state.searchQuery,pageNumber:1})},components:{Spinner:N,MovieCarousel:G}},K=H,U=Object(s["a"])(K,$,k,!1,null,null,null),W=U.exports;r["a"].use(l["a"]);var X=new l["a"]({routes:[{path:"/",name:"home",component:M},{path:"/results",name:"results",component:W}]}),Z=n("795b"),ee=n.n(Z),te=(n("ac6a"),n("06db"),n("5df3"),n("e814")),ne=n.n(te),re=(n("96cf"),n("3b8d")),ae=n("75fc"),oe=(n("6c7b"),n("2f62")),se=n("d225"),ie=n("b0b4"),ue="753a7787",ce="https://www.omdbapi.com/?apikey=".concat(ue),le=function(){function e(){Object(se["a"])(this,e)}return Object(ie["a"])(e,null,[{key:"fetchJSON",value:function(){var e=Object(re["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMovies",value:function(){var e=Object(re["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,r=this.fetchJSON("".concat(ce,"&type=movie&s=").concat(t,"&page=").concat(n)),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMovieDetails",value:function(){var e=Object(re["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.fetchJSON("".concat(ce,"&i=").concat(t)),e.abrupt("return",n);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();r["a"].use(oe["a"]);var pe=new oe["a"].Store({state:{searchQuery:"",resultCount:null,movies:[]},getters:{isSearching:function(e){return null===e.resultCount}},mutations:{updateQuery:function(e,t){e.searchQuery=t,e.movies=[],e.resultCount=0},updateResultCount:function(e,t){e.resultCount=t,e.movies=Array(t).fill({isLoading:!0})},updateMovies:function(e,t){var n,r=t.data,a=t.pageNumber,o=10*(a-1);(n=e.movies).splice.apply(n,[o,r.length].concat(Object(ae["a"])(r)))}},actions:{getMovies:function(){var e=Object(re["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.query,o=n.pageNumber,e.next=4,le.getMovies(a,o);case 4:return s=e.sent,1===o&&r("updateResultCount",ne()(s.totalResults,10)),e.next=8,ee.a.all(s.Search.map(function(){var e=Object(re["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le.getMovieDetails(t.imdbID);case 2:return n=e.sent,n.isLoading=!1,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:i=e.sent,r("updateMovies",{data:i,pageNumber:o});case 10:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}});r["a"].config.productionTip=!1,new r["a"]({router:X,store:pe,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5e27":function(e,t,n){},"70ef":function(e,t,n){"use strict";var r=n("ec73"),a=n.n(r);a.a},"84e0":function(e,t,n){},9275:function(e,t,n){},b9e2:function(e,t,n){"use strict";var r=n("84e0"),a=n.n(r);a.a},ec73:function(e,t,n){}});
//# sourceMappingURL=app.0fa9b3e5.js.map